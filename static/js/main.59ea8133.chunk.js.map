{"version":3,"sources":["util/translations.js","hooks/useTranslation.js","util/hasIncompleteSets.js","util/timeFormat.js","util/workoutPersistence.js","util/serializeWorkout.js","ui.js","components/Actions.js","util/hasIncompleteExercises.js","components/AddExercise.js","components/SetDisplay.js","components/RPEScale.js","components/Exercise.js","util/genHash.js","util/reducer.js","components/Workout.js","components/WorkoutHistory.js","components/AddWorkout.js","components/WorkoutDisplay.js","components/WorkoutList.js","App.js","index.js"],"names":["en","pt","useTranslation","useState","language","setLanguage","useEffect","navigatorLanguage","window","navigator","split","includes","fallback","translations","t","key","hasIncompleteSets","exercise","sets","some","s","stage","timeFormat","seconds","Math","abs","pad","val","padStart","minutes","floor","hours","getWorkoutList","json","localStorage","getItem","JSON","parse","loadWorkout","logKey","workout","date","Date","saveWorkout","id","toISOString","isComplete","activeSetId","activeExerciseId","name","document","querySelector","textContent","trim","duration","Number","dataset","value","exercises","$exercises","querySelectorAll","$exercise","$sets","$set","set","defaultDurationTime","defaultReps","defaultWeight","defaultRestTime","push","rpe","stringify","serializeWorkout","setItem","Container","props","children","className","Footer","Button","Icon","color","label","buttonProps","DecoratedBlock","TextLabel","size","SingleInputForm","onSubmit","onChange","placeholder","required","type","Block","isActive","ring","List","ListItem","itemProps","TitleH3","EmptyMessage","LightButton","BlockActions","locales","CycleButton","onClick","labels","IDLE","ACTIVE","RESTING","COMPLETE","icons","BiPlay","BiPause","BiCheck","BiRefresh","Actions","state","dispatch","isReadOnly","history","useHistory","timer","setTimer","setIsComplete","timerIsRunning","setTimerIsRunning","interval","setInterval","clearInterval","onGoBack","footerButtons","find","e","hasActiveSet","Boolean","hasExercises","length","hasSets","BiArrowBack","BiStar","BiTrophy","confirm","payload","exerciseId","setId","timerColor","locale","formatOptions","data-value","format","AddExercise","setName","ev","preventDefault","target","SetInputField","inputProps","labelText","formatFunction","isEdit","onToggleEdit","autoFocus","onFocus","select","onBlur","tabIndex","SetDisplay","durationTime","setDurationTime","restTime","setRestTime","reps","setReps","weight","setWeight","isEditTime","setIsEditTime","isEditReps","setIsEditReps","isEditWeight","setIsEditWeight","isEditRest","setIsEditRest","prevStageRef","useRef","current","numericInputProps","pattern","min","inputMode","baseColor","highlightColor","data-id","defaultValue","RPEScale","defaultRPE","setValue","expand","setExpand","rpeTitles","rpeDescriptions","max","step","Array","from","keys","map","i","Exercise","isFirst","isLast","isWorkoutComplete","onActivateSet","moveExercise","factor","disabled","genHash","crypto","getRandomValues","Uint32Array","toString","reducer","action","cloneDeep","ex","hash","addNewSet","setIndex","findIndex","splice","removeSet","updateActiveSet","currentStage","nextStage","stages","index","getNextStageFor","nextIndex","updateSetStage","nextExerciseIdx","nextExercise","updateActiveExercise","addNewExercise","completeWorkout","exerciseIndex","newIndex","exerciseA","exerciseB","Error","Workout","baseWorkout","readOnly","useReducer","to","WorkoutHistory","list","Object","persistenceKey","workoutHistoryList","workoutsList","setWorkoutsList","onClickRemove","removeItem","eraseLogEntry","filter","w","pathname","search","AddWorkout","onAddWorkout","WorkoutDisplay","onRemoveWorkout","lastRun","lastLogKey","entry","sort","reverse","getLastRunDate","formatDistance","WorkoutList","workouts","setWorkouts","removeWorkoutFromList","location","reload","addWorkoutToList","concat","App","renderWorkout","routeProps","URLSearchParams","get","createNew","match","path","loadWorkoutById","basename","process","exact","render","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.59ea8133.chunk.js","sourcesContent":["export const en = {\n    'no_exercise': 'No exercises to list.',\n    'start': 'Start',\n    'close': 'Close',\n    'complete': 'Complete',\n    'reset': 'Reset',\n    'sets': 'Sets',\n    'reps': 'Reps',\n    'history': 'History',\n    'view': 'View',\n    'last_run': 'Last run',\n    'time': 'Time',\n    'rest': 'Rest',\n    'weight': 'Weight',\n    'confirm_delete': 'Are you sure you want to delete this workout and all its past registries?',\n    'save_progress': 'Would you like to save your progress?',\n    'erase_workout': 'Are you sure you want to erase the current workout?',\n    'back': 'Back',\n    'reset_workout': 'Reset workout',\n    'finish_workout': 'Finish Workout',\n    'finish_exercise': 'Finish exercise',\n    'start_workout': 'Start workout',\n    'add_exercise': 'Add exercise',\n    'exercise_name': 'Exercise name',\n    'no_sets': 'No sets for this exercise.',\n    'remove_set': 'Remove set',\n    'add_set': 'Add set',\n    'rpe_title_1': 'Very light activity',\n    'rpe_title_2': 'Light activity',\n    'rpe_title_3': 'Light activity',\n    'rpe_title_4': 'Moderate activity',\n    'rpe_title_5': 'Moderate activity',\n    'rpe_title_6': 'Moderate activity',\n    'rpe_title_7': 'Vigorous activity',\n    'rpe_title_8': 'Vigorous activity',\n    'rpe_title_9': 'Very hard activity',\n    'rpe_title_10': 'Max effort activity',\n    'rpe_desc_1': 'Hardly any exertion, but more than sleeping, watching TV, etc.',\n    'rpe_desc_2': 'Could mantain for hours. Easy to breathe and carry a conversation.',\n    'rpe_desc_3': 'Could mantain for hours. Easy to breathe and carry a conversation.',\n    'rpe_desc_4': 'Breathing heavily, can mantain a conversation, but more challenging.',\n    'rpe_desc_5': 'Breathing heavily, can mantain a conversation, but more challenging.',\n    'rpe_desc_6': 'Breathing heavily, can mantain a conversation, but more challenging.',\n    'rpe_desc_7': 'Almost uncofortable, short of breath, can speak a sentence.',\n    'rpe_desc_8': 'Almost uncofortable, short of breath, can speak a sentence.',\n    'rpe_desc_9': 'Very difficult to mantain, can barely breathe, can speak a few words',\n    'rpe_desc_10': 'Almost impossible to keep going. Out of breath, unable to talk.',\n    'rpe': 'Rate of perceived exertion ',\n    'workouts_list': 'Workouts list',\n    'workout_name': 'Workout name',\n    'add_workout': 'Add workout',\n    'remove_workout': 'Remove workout',\n    'no_workout': 'No workout'\n};\n\nexport const pt = {\n    'no_exercise': 'Nenhum exercício para listar.',\n    'start': 'Iniciar',\n    'close': 'Fechar',\n    'complete': 'Completar',\n    'reset': 'Reiniciar',\n    'sets': 'Séries',\n    'reps': 'Repet.',\n    'time': 'Tempo',\n    'history': 'Histórico',\n    'view': 'Ver',\n    'last_run': 'Última vez',\n    'rest': 'Descanso',\n    'weight': 'Peso',\n    'confirm_delete': 'Tem certeza que deseja remover este treino e todos os registros dele?',\n    'save_progress': 'Você gostaria de salvar seu progresso?',\n    'erase_workout': 'Tem certeza que deseja apagar o treino atual?',\n    'back': 'Voltar',\n    'reset_workout': 'Apagar treino',\n    'finish_workout': 'Concluir treino',\n    'finish_exercise': 'Concluir exercício',\n    'start_workout': 'Iniciar treino',\n    'add_exercise': 'Adicionar exercício',\n    'exercise_name': 'Nome do exercício',\n    'no_sets': 'Nenhuma série para este exercício.',\n    'remove_set': 'Remover série',\n    'add_set': 'Adicionar série',\n    'rpe_title_1': 'Atividade muito leve',\n    'rpe_title_2': 'Atividade leve',\n    'rpe_title_3': 'Atividade leve',\n    'rpe_title_4': 'Atividade moderada',\n    'rpe_title_5': 'Atividade moderada',\n    'rpe_title_6': 'Atividade moderada',\n    'rpe_title_7': 'Atividade vigorosa',\n    'rpe_title_8': 'Atividade vigorosa',\n    'rpe_title_9': 'Atividade muito difícil',\n    'rpe_title_10': 'Esforço máximo',\n    'rpe_desc_1': 'Quase nenhum esforço, porém mais que assistir TV ou dormir.',\n    'rpe_desc_2': 'Conseguiria manter por horas. Respira facilmente e consegue conversar normalmente.',\n    'rpe_desc_3': 'Conseguiria manter por horas. Respira facilmente e consegue conversar normalmente.',\n    'rpe_desc_4': 'Respira com dificuldade, conseguiria manter uma conversa, mas seria mais difícil.',\n    'rpe_desc_5': 'Respira com dificuldade, conseguiria manter uma conversa, mas seria mais difícil.',\n    'rpe_desc_6': 'Respira com dificuldade, conseguiria manter uma conversa, mas seria mais difícil.',\n    'rpe_desc_7': 'Quase desconfortável, falta fôlego, consegue dizer uma frase no máximo.',\n    'rpe_desc_8': 'Quase desconfortável, falta fôlego, consegue dizer uma frase no máximo.',\n    'rpe_desc_9': 'Muito difícil de manter, mal consegue respirar, consegue dizer apenas algumas palavras.',\n    'rpe_desc_10': 'Impossível continuar, totalmente sem fôlego, não consegue falar.',\n    'rpe': 'Escala de esforço ',\n    'workouts_list': 'Lista de treinos',\n    'workout_name': 'Nome do treino',\n    'add_workout': 'Adicionar treino',\n    'remove_workout': 'Remover treino',\n    'no_workout': 'Nenhum treino disponível'\n};\n","import { useEffect, useState } from 'react';\nimport * as translations from '../util/translations';\n\nexport default function useTranslation() {\n    const [language, setLanguage] = useState('en');\n\n    useEffect(() => {\n        const navigatorLanguage = window.navigator.language.split('-')[0];\n        if (['en', 'pt'].includes(navigatorLanguage)) {\n            setLanguage(navigatorLanguage);\n        } else {\n            setLanguage('en');\n        }\n    }, []);\n\n    const fallback = translations.en;\n\n    const t = (key) => {\n        const translation = translations[language];\n\n        return translation[key] || fallback[key] || key;\n    };\n\n    return { t, language };\n}","export default function hasIncompleteSets(exercise) {\n    return exercise.sets.some(s => s.stage !== 'COMPLETE');\n}","export default function timeFormat(seconds) {\n    if (seconds < 0) {\n        return `-${timeFormat(Math.abs(seconds))}`;\n    }\n    const pad = (val) => `${val % 60}`.padStart(2, '0');\n    const minutes = Math.floor(seconds / 60);\n    if (minutes === 0) {\n        return `${seconds}`;\n    }\n    if (minutes >= 60) {\n        const hours = Math.floor(minutes / 60);\n        return `${hours}:${pad(minutes)}:${pad(seconds)}`;\n    }\n    return `${minutes}:${pad(seconds)}`;\n}","import serializeWorkout from '../util/serializeWorkout';\n\nexport function workoutHistoryList() {\n    const { localStorage } = window;\n\n    const list = [];\n    for (const key of Object.keys(localStorage)) {\n        const [date, id] = key.split('_');\n        if (!Date.parse(date) || !id) {\n            continue;\n        }\n        const workout = JSON.parse(localStorage.getItem(key));\n        workout.persistenceKey = key;\n        list.push(workout);\n    }\n\n    return list;\n}\n\nexport function getWorkoutList() {\n    const { localStorage } = window;\n\n    const json = localStorage.getItem('workouts');\n    if (!json) {\n        return [];\n    }\n    return JSON.parse(json);\n}\n\nexport function addWorkoutToList(workout) {\n    const { localStorage } = window;\n\n    const json = localStorage.getItem('workouts');\n    const workouts = json ? JSON.parse(json) : [];\n    workouts.push(workout);\n    localStorage.setItem('workouts', JSON.stringify(workouts));\n}\n\nexport function removeWorkoutFromList(id) {\n    const { localStorage } = window;\n\n    const json = localStorage.getItem('workouts');\n    const workouts = json ? JSON.parse(json) : [];\n    localStorage.setItem('workouts', JSON.stringify(\n        workouts.filter(w => w.id !== id)\n    ));\n\n    for (const key of Object.keys(localStorage)) {\n        if (key.includes(id)) {\n            localStorage.removeItem(key);\n        }\n    }\n}\n\nexport function getLastRunDate(id) {\n    const { localStorage } = window;\n\n    const lastLogKey = Object.keys(localStorage)\n        .filter(entry => entry.includes(id))\n        .sort()\n        .reverse()[0];\n    \n    if (!lastLogKey) {\n        return null;\n    }\n\n    return new Date(loadWorkout(lastLogKey).date);\n}\n\nexport function loadWorkoutById(id, createNew = true) {\n    const { localStorage } = window;\n\n    const lastLogKey = Object.keys(localStorage)\n        .filter(entry => entry.includes(id))\n        .sort()\n        .reverse()[0];\n\n    const workout = loadWorkout(lastLogKey) || getWorkoutList().find(\n        entry => entry.id === id\n    );\n\n    if (createNew) {\n        workout.date = new Date();\n        workout.isComplete = false;\n        workout.duration = 0;\n    } else {\n        workout.date = new Date(workout.date);\n    }\n\n    for (const exercise of workout.exercises) {\n        for (const set of exercise.sets) {\n            set.stage = createNew ? 'IDLE' : 'COMPLETE';\n        }\n    }\n\n    return workout;\n}\n\nexport function loadWorkout(logKey) {\n    const { localStorage } = window;\n\n    const json = localStorage.getItem(logKey);\n\n    if (!json) {\n        return null;\n    }\n\n    const workout = JSON.parse(json);\n    workout.date = new Date(workout.date);\n\n    return workout;\n}\n\n\nexport function eraseLogEntry(logKey) {\n    const { localStorage } = window;\n\n    localStorage.removeItem(logKey);\n}\n\nexport function eraseWorkout(id) {\n    const { localStorage } = window;\n\n    const logKey = `${(new Date()).toISOString().split('T')[0]}_${id}`;\n    localStorage.removeItem(logKey);\n}\n\nexport function saveWorkout(id) {\n    const { localStorage } = window;\n\n    const logKey = `${(new Date()).toISOString().split('T')[0]}_${id}`;\n\n    const json = serializeWorkout(id);\n\n    localStorage.setItem(logKey, json);\n}","\nexport default function serializeWorkout(id) {\n    const workout = {\n        id,\n        isComplete: true,\n        activeSetId: null,\n        activeExerciseId: null\n    };\n\n    workout.date = new Date();\n    workout.name = document.querySelector('.workout-name').textContent.trim();\n    workout.duration = Number(\n        document.querySelector('.workout-duration').dataset.value\n    );\n    workout.exercises = [];\n\n    const $exercises = document.querySelectorAll('.exercise');\n    for (const $exercise of $exercises) {\n        const exercise = {};\n        exercise.name = $exercise.querySelector(\n            '.exercise-name'\n        ).textContent.trim();\n        exercise.id = $exercise.dataset.id;\n        exercise.sets = [];\n\n        const $sets = $exercise.querySelectorAll('.set-display');\n        for (const $set of $sets) {\n            const set = {};\n            set.id = $set.dataset.id;\n            set.defaultDurationTime = Number(\n                $set.querySelector('.time .value').dataset.value\n            );\n            set.defaultReps = Number(\n                $set.querySelector('.reps .value').dataset.value\n            );\n            set.defaultWeight = Number(\n                $set.querySelector('.weight .value').dataset.value\n            );\n            set.defaultRestTime = Number(\n                $set.querySelector('.rest .value').dataset.value\n            );\n            set.stage = 'COMPLETE';\n            exercise.sets.push(set);\n        }\n        exercise.rpe = Number($exercise.querySelector('.rpe').value);\n        workout.exercises.push(exercise);\n    }\n\n    return JSON.stringify(workout);\n}","export function Container(props) {\n    const { children } = props;\n    return <div className='bg-white max-w-5xl min-h-screen m-auto border shadow-md place-self-center'>{children}</div>;\n}\n\nexport function Footer(props) {\n    const { children } = props;\n    return <div className='flex justify-end sticky items-center border-t border-indigo-200 bottom-0 bg-white w-full left-0 p-3'>{children}</div>;\n}\n\nexport function Button(props) {\n    const { Icon, color='blue', label, ...buttonProps } = props;\n\n    return (\n        <button {...buttonProps} className={`border flex uppercase focus:ring-2 text-sm items-center text-white px-3 py-2 rounded-md bg-${color}-500 ml-2 border-${color}-600 focus:ring-${color}-200 active:bg-${color}-700`}>\n            {Icon && <Icon className='mr-1 text-lg' />} {label}\n        </button>\n    );\n}\n\nexport function DecoratedBlock(props) {\n    const { color = 'indigo', children } = props;\n    return (\n        <div className={`text-xl mr-auto border-l-2 border-${color}-500 pl-2 bg-white text-${color}-700`}>\n            {children}\n        </div>\n    );\n}\n\nexport function TextLabel(props) {\n    const { size = 'sm', className, children } = props;\n\n    return (\n        <p className={`text-${size} uppercase tracking-wider ${className}`}>{children}</p>\n    );\n}\n\nexport function SingleInputForm(props) {\n    const { onSubmit, value, onChange, placeholder, label } = props;\n\n    return (\n        <form onSubmit={onSubmit} className='m-3 pt-3 border-t border-indigo-200'>\n            <div className='flex p-2 items-center bg-indigo-50 rounded-xl border border-indigo-200'>\n                <input required value={value} onChange={onChange}\n                    className='text-sm text-indigo-800 px-2 w-2 flex-1 py-1 rounded border border-indigo-200 placeholder-indigo-400 focus:ring-2 focus:ring-indigo-200'\n                    type='text' placeholder={placeholder} />\n            </div>\n            <div className='flex justify-end mt-1'>\n                <button\n                    className='text-indigo-500 text-sm px-1'> {label}\n                </button>\n            </div>\n        </form>\n    );\n}\n\nexport function Block(props) {\n    const { isActive = false, color='indigo', children } = props;\n    const ring = isActive ? `ring-2 ring-${color}-200` : '';\n    return <div className={`p-2 border border-${color}-200 bg-${color}-50 rounded-xl ${ring}`}>{children}</div>;\n}\n\nexport function List(props) {\n    const { children } = props;\n    return <ul className='flex flex-col space-y-3'>{children}</ul>;\n}\n\nexport function ListItem(props) {\n    const { isActive, children, className, ...itemProps } = props;\n    const ring = isActive ? 'ring-2 ring-indigo-200 border-indigo-400' : '';\n    return <div {...itemProps} className={`bg-white p-2 rounded-md shadow border border-indigo-200 ${ring} ${className}`}>{children}</div>;\n}\n\nexport function TitleH3(props) {\n    const { children, className } = props;\n    return <h3 className={`text-lg font-semibold text-indigo-800 ${className}`}>{children}</h3>;\n}\n\nexport function EmptyMessage(props) {\n    const { children } = props;\n    return <p className='text-indigo-500 text-sm pb-1'>{children}</p>;\n}\n\nexport function LightButton(props) {\n    const { children, ...buttonProps } = props;\n    return <button {...buttonProps} className='text-indigo-500 text-sm px-1'>{children}</button>;\n}\n\nexport function BlockActions(props) {\n    const { children } = props;\n    return <div className='flex justify-end mt-1 space-x-4'>{children}</div>;\n}","import { format } from 'date-fns';\n\nimport pt from 'date-fns/locale/pt-BR';\nimport en from 'date-fns/locale/en-US';\n\nconst locales = { pt, en };\n\nimport { useEffect, useState } from 'react';\nimport useTranslation from '../hooks/useTranslation';\n\nimport {\n    BiArrowBack,\n    BiCheck,\n    BiPause,\n    BiPlay,\n    BiRefresh,\n    BiStar,\n    BiStopwatch,\n    BiTrophy\n} from 'react-icons/bi';\nimport hasIncompleteExercises from '../util/hasIncompleteExercises';\nimport hasIncompleteSets from '../util/hasIncompleteSets';\nimport timeFormat from '../util/timeFormat';\n\nimport { saveWorkout } from '../util/workoutPersistence';\nimport { useHistory } from 'react-router';\nimport { Button, DecoratedBlock, Footer, TextLabel } from '../ui';\n\nfunction CycleButton({ stage, onClick = () => {} }) {\n    const { t } = useTranslation();\n    \n    const labels = {\n        IDLE: t('start'),\n        ACTIVE: t('rest'),\n        RESTING: t('complete'),\n        COMPLETE: t('reset')\n    };\n\n    const icons = {\n        IDLE: BiPlay,\n        ACTIVE: BiPause,\n        RESTING: BiCheck,\n        COMPLETE: BiRefresh\n    };\n\n    const colors = {\n        IDLE: 'indigo',\n        ACTIVE: 'indigo',\n        RESTING: 'indigo',\n        COMPLETE: 'blue'\n    };\n\n    const label = labels[stage];\n    const Icon = icons[stage];\n    const color = colors[stage];\n\n    return (\n        <Button\n            onClick={onClick}\n            color={color}\n            label={label}\n            Icon={Icon}\n        />\n    );\n}\n\nexport default function Actions(props) {\n    const { state, dispatch, isReadOnly } = props;\n\n    const { t, language } = useTranslation();\n    const history = useHistory();\n\n    const [timer, setTimer] = useState(state.duration || 0);\n    const [isComplete, setIsComplete] = useState(false);\n    const [timerIsRunning, setTimerIsRunning] = useState(false);\n\n    useEffect(() => {\n        if (!timerIsRunning) {\n            return;\n        }\n        const interval = setInterval(() => {\n            setTimer(t => t + 1);\n        }, 1000);\n        return () => clearInterval(interval);\n    }, [timerIsRunning]);\n\n    const updateStage = () => {\n        dispatch({\n            type: 'UPDATE_SET_STAGE'\n        });\n    };\n\n    const completeExercise = () => {\n        dispatch({\n            type: 'COMPLETE_EXERCISE'\n        });\n    };\n\n    const completeWorkout = () => {\n        const willSave = window.confirm(\n            t('save_progress')\n        );\n        if (willSave) {\n            saveWorkout(state.id);\n        }\n        setIsComplete(true);\n        setTimerIsRunning(false);\n        dispatch({\n            type: 'COMPLETE_WORKOUT'\n        });\n    };\n\n    const onStartWorkout = () => {\n        setTimerIsRunning(true);\n        dispatch({\n            type: 'UPDATE_ACTIVE_SET',\n            payload: {\n                exerciseId: state.exercises[0]?.id,\n                setId: state.exercises[0]?.sets[0]?.id,\n            }\n        });\n        dispatch({\n            type: 'UPDATE_SET_STAGE'\n        });\n    };\n\n    const onGoBack = () => {\n        history.push('/');\n    };\n\n    let footerButtons = [null, null];\n\n    const exercise = state.exercises.find(\n        e => e.id === state.activeExerciseId\n    );\n\n    const set = exercise ? exercise.sets.find(\n        s => s.id === state.activeSetId\n    ) : null;\n\n    const hasActiveSet = Boolean(set);\n    const hasExercises = state.exercises.length > 0;\n    const hasSets = state.exercises[0]?.sets.length > 0;\n\n    if (isReadOnly) {\n        footerButtons[0] = <Button\n            color='blue'\n            label={t('back')}\n            onClick={onGoBack}\n            Icon={BiArrowBack}\n        />;\n    } else if (isComplete) {\n        footerButtons[0] = <Button\n            color='blue'\n            label={t('back')}\n            onClick={onGoBack}\n            Icon={BiArrowBack}\n        />;\n    } else if (timerIsRunning) {\n        if (hasActiveSet) {\n            footerButtons[0] = <CycleButton\n                onClick={updateStage}\n                stage={set.stage}\n            />;\n        }\n    \n        if (!hasIncompleteExercises(state)) {\n            footerButtons[1] = <Button\n                color='green'\n                label={t('finish_workout')}\n                Icon={BiTrophy}\n                onClick={completeWorkout}\n            />;\n        } else if (!hasIncompleteSets(exercise)) {\n            footerButtons[1] = <Button\n                color='green'\n                label={t('finish_exercise')}\n                Icon={BiStar}\n                onClick={completeExercise}\n            />;\n        }\n    } else if (hasExercises && hasSets && !isComplete) {\n        footerButtons[0] = <Button\n            color='blue'\n            label={t('start_workout')}\n            onClick={onStartWorkout}\n            Icon={BiPlay}\n        />;\n    }\n\n    const timerColor = timerIsRunning || !isComplete ? 'indigo' : 'green';\n    const locale = locales[language];\n    const formatOptions = {};\n    if (locale) {\n        formatOptions.locale = locale;\n    }\n\n    const date = state.date || new Date();\n    return (\n        <Footer>\n            <DecoratedBlock color={timerColor}>\n                <BiStopwatch className='inline -mt-1 mr-1 -ml-1' />\n                <time\n                    className='workout-duration'\n                    data-value={timer}\n                >{timeFormat(timer)}</time>\n                <TextLabel size='xs'>\n                    {format(date, 'PP', formatOptions)}\n                </TextLabel>\n            </DecoratedBlock>\n            {footerButtons[0]} {footerButtons[1]}\n        </Footer>\n    );\n}","import hasIncompleteSets from './hasIncompleteSets';\n\nexport default function hasIncompleteExercises(workout) {\n    return workout.exercises.some(hasIncompleteSets);\n}","import { useState } from 'react';\nimport useTranslation from '../hooks/useTranslation';\n\nimport { SingleInputForm } from '../ui';\n\nexport default function AddExercise(props) {\n    const { t } = useTranslation();\n\n    const [ name, setName ] = useState('');\n    const { dispatch } = props;\n\n    const onAddExercise = (ev) => {\n        ev.preventDefault();\n        setName('');\n        dispatch({\n            type: 'ADD_EXERCISE',\n            payload: { name }\n        });\n    };\n\n    return <SingleInputForm\n        onSubmit={onAddExercise}\n        onChange={ev => setName(ev.target.value)}\n        placeholder={t('exercise_name')}\n        label={t('add_exercise')}\n        value={name}\n    />;\n}","import { useEffect, useRef, useState } from 'react';\nimport timeFormat from '../util/timeFormat';\nimport useTranslation from '../hooks/useTranslation';\nimport { ListItem, TextLabel } from '../ui';\n\nfunction SetInputField(props) {\n    const {\n        inputProps,\n        labelText,\n        value = null,\n        formatFunction = val => val,\n        color = 'indigo',\n        isEdit = false,\n        onToggleEdit = () => {},\n        onChange = () => {}\n    } = props;\n\n    return (\n        <label className={`text-${color}-800`}>\n            <TextLabel className='mb-1'>{labelText}</TextLabel>\n            {\n                isEdit ? (\n                    <input\n                        {...inputProps}\n                        className={`block text-${color}-800 tabuler-nums w-full px-1 bg-${color}-50 rounded shadow-sm border border-${color}-200 focus:ring-2 focus:ring-${color}-100`}\n                        value={value}\n                        autoFocus\n                        onFocus={ev => ev.target.select()}\n                        onBlur={() => isEdit && onToggleEdit(false)}\n                        onChange={ev => onChange(Number(ev.target.value))}\n                    ></input>\n                ) : (\n                    <span data-value={value} tabIndex={0} onFocus={() => isEdit || onToggleEdit(true)} className={`value block text-${color}-800 tabuler-nums w-full px-1 bg-${color}-50 rounded shadow-sm border border-${color}-200`}>\n                        {formatFunction(Number(value))}\n                    </span>\n                )\n            }\n        </label>\n    );\n}\n\nexport default function SetDisplay(props) {\n    const {\n        id,\n        exerciseId,\n        defaultDurationTime = 0,\n        defaultRestTime = 30,\n        defaultReps = 8,\n        defaultWeight = 10,\n        isReadOnly = false,\n        onClick = () => {},\n        dispatch = () => {},\n        isActive = true,\n        stage = 'IDLE'\n    } = props;\n\n    const [durationTime, setDurationTime] = useState(defaultDurationTime);\n    const [restTime, setRestTime] = useState(defaultRestTime);\n    const [reps, setReps] = useState(defaultReps);\n    const [weight, setWeight] = useState(defaultWeight);\n\n    const [isEditTime, setIsEditTime] = useState(false);\n    const [isEditReps, setIsEditReps] = useState(false);\n    const [isEditWeight, setIsEditWeight] = useState(false);\n    const [isEditRest, setIsEditRest] = useState(false);\n\n    const prevStageRef = useRef();\n\n    const { t } = useTranslation();\n    useEffect(() => {\n        if (isEditTime || isEditReps || isEditWeight || isEditRest) {\n            dispatch({\n                type: 'UPDATE_ACTIVE_SET',\n                payload: {\n                    setId: id,\n                    exerciseId\n                }\n            });\n\n        }\n    }, [\n        dispatch, isEditTime, isEditReps, isEditRest,\n        isEditWeight, id, exerciseId\n    ]);\n\n    useEffect(() => {\n        if (stage === 'IDLE' && prevStageRef.current === 'COMPLETE') {\n            setDurationTime(0);\n            setRestTime(defaultRestTime);\n            setReps(defaultReps);\n            setWeight(defaultWeight);\n        }\n    }, [defaultRestTime, defaultReps, defaultWeight, stage]);\n\n    useEffect(() => {\n        prevStageRef.current = stage;        \n    }, [stage]);\n\n    useEffect(() => {\n        if (stage === 'ACTIVE' && !isEditTime) {\n            const interval = setInterval(() => {\n                setDurationTime((t) => Number(t) + 1);\n            }, 1000);\n            return () => clearInterval(interval);\n        }\n    }, [stage, isEditTime]);\n\n    useEffect(() => {\n        if (stage === 'RESTING' && !isEditRest) {\n            const interval = setInterval(() => {\n                setRestTime((t) => Number(t) - 1);\n            }, 1000);\n            return () => clearInterval(interval);\n        }\n    }, [stage, defaultRestTime, isEditRest]);\n\n    const numericInputProps = {\n        type: 'number',\n        pattern: '\\\\d+',\n        min: '0',\n        inputMode: 'numeric',\n    };\n\n    const baseColor = stage === 'COMPLETE' ? 'green' : 'indigo';\n    const highlightColor = 'cyan';\n\n    const getRestingColor = () => {\n        if (stage === 'RESTING') {\n            return restTime < 0 ? 'red' : highlightColor;\n        }\n        return baseColor;\n    };\n\n    return (\n        <ListItem\n            onClick={onClick}\n            data-id={id}\n            className='set-display flex space-x-2'\n            isActive={isActive && !isReadOnly}\n        >\n            <div className='time flex-1'>\n                <SetInputField\n                    inputProps={numericInputProps}\n                    isEdit={isEditTime && !isReadOnly}\n                    onToggleEdit={setIsEditTime}\n                    onChange={setDurationTime}\n                    value={durationTime}\n                    formatFunction={timeFormat}\n                    color={stage === 'ACTIVE' ? highlightColor : baseColor}\n                    labelText={t('time')}\n                    defaultValue='0'\n                />\n            </div>\n            <div className='reps flex-1'>\n                <SetInputField\n                    inputProps={numericInputProps}\n                    isEdit={isEditReps && !isReadOnly}\n                    onToggleEdit={setIsEditReps}\n                    onChange={setReps}\n                    value={reps}\n                    color={baseColor}\n                    labelText={t('reps')}\n                    defaultValue='8'\n                />\n            </div>\n            <div className='weight flex-1'>\n                <SetInputField\n                    inputProps={numericInputProps}\n                    isEdit={isEditWeight && !isReadOnly}\n                    onToggleEdit={setIsEditWeight}\n                    onChange={setWeight}\n                    value={weight}\n                    color={baseColor}\n                    labelText={t('weight')}\n                    defaultValue='10'\n                />\n            </div>\n            <div className='rest flex-1'>\n                <SetInputField\n                    inputProps={numericInputProps}\n                    isEdit={isEditRest && !isReadOnly}\n                    onToggleEdit={setIsEditRest}\n                    onChange={setRestTime}\n                    value={restTime}\n                    color={getRestingColor()}\n                    formatFunction={timeFormat}\n                    labelText={t('rest')}\n                    defaultValue={defaultRestTime}\n                />\n            </div>\n        </ListItem>\n    );\n}","import { BiInfoCircle } from 'react-icons/bi';\nimport { useState } from 'react';\nimport useTranslation from '../hooks/useTranslation';\nimport { ListItem } from '../ui';\n\nexport default function RPEScale(props) {\n    const { defaultRPE = 5, isReadOnly } = props;\n\n    const { t } = useTranslation();\n    const [value, setValue] = useState(defaultRPE);\n    const [expand, setExpand] = useState(false);\n\n    const rpeTitles = [\n        t('rpe_title_1'),\n        t('rpe_title_2'),\n        t('rpe_title_3'),\n        t('rpe_title_4'),\n        t('rpe_title_5'),\n        t('rpe_title_6'),\n        t('rpe_title_7'),\n        t('rpe_title_8'),\n        t('rpe_title_9'),\n        t('rpe_title_10')\n    ];\n\n    const rpeDescriptions = [\n        t('rpe_desc_1'),\n        t('rpe_desc_2'),\n        t('rpe_desc_3'),\n        t('rpe_desc_4'),\n        t('rpe_desc_5'),\n        t('rpe_desc_6'),\n        t('rpe_desc_7'),\n        t('rpe_desc_8'),\n        t('rpe_desc_9'),\n        t('rpe_desc_10')\n    ];\n\n    return (\n        <>\n            <hr className='border-t border-indigo-200'></hr>\n            <ListItem>\n                <span className='uppercase text-sm tracking-wider text-indigo-700'>{t('rpe')}\n                <button onClick={() => setExpand(!expand)}><BiInfoCircle className='inline ml-1 mb-1' /></button></span>\n                <input\n                    className={`rpe val-${value}`}\n                    type='range'\n                    min='1'\n                    value={value}\n                    onChange={ev => isReadOnly || setValue(ev.target.value)}\n                    max='10'\n                    step='1'\n                />\n                <ul className='tracks flex w-full justify-between text-xs -mt-1 text-indigo-700'>\n                    {Array.from(Array(10).keys()).map((i) => \n                        <li key={i}>{i + 1}</li>\n                    )}\n                </ul>\n                {\n                    expand && (\n                        <>\n                            <hr className='mt-2 border-t border-indigo-200' />\n                            <h4 className='text-xs font-semibold mb-1 mt-2 text-indigo-700'>{rpeTitles[value - 1]}</h4>\n                            <p className='text-xs text-indigo-700'>{rpeDescriptions[value - 1]}</p>\n                        </>\n                    )\n                }\n            </ListItem>\n        </>\n    );\n}","import { BiChevronDown, BiChevronUp, BiDumbbell } from 'react-icons/bi';\n\nimport SetDisplay from './SetDisplay';\nimport RPEScale from './RPEScale';\n\nimport '../range.css';\nimport useTranslation from '../hooks/useTranslation';\nimport {\n    Block,\n    EmptyMessage,\n    List,\n    TitleH3,\n    LightButton,\n    BlockActions\n} from '../ui';\n\nexport default function Exercise(props) {\n    const {\n        id,\n        name,\n        sets,\n        isFirst = false,\n        isLast = false,\n        isActive = false,\n        isComplete = false,\n        isReadOnly=false,\n        defaultRPE=5,\n        isWorkoutComplete = false,\n        activeSetId = null,\n        dispatch = () => {},\n    } = props;\n\n    const { t } = useTranslation();\n\n    const onRemoveSet = () => {\n        dispatch({\n            type: 'REMOVE_SET',\n            payload: {\n                exerciseId: id\n            }\n        });\n    };\n\n    const onAddSet = () => {\n        dispatch({\n            type: 'ADD_SET',\n            payload: {\n                exerciseId: id\n            }\n        });\n    };\n\n    const onActivateSet = (setId) => {\n        dispatch({\n            type: 'UPDATE_ACTIVE_SET',\n            payload: {\n                exerciseId: id,\n                setId\n            }\n        });\n    };\n\n    const moveExercise = (factor) => {\n        dispatch({\n            type: 'MOVE_EXERCISE',\n            payload: {\n                exerciseId: id,\n                factor\n            }\n        });\n    };\n\n    return (\n        <div className='exercise relative' data-id={id}>\n            {isWorkoutComplete || isReadOnly || (\n                <div className='absolute top-1 right-1 text-indigo-500'>\n                    <button\n                        disabled={isLast}\n                        onClick={() => moveExercise(1)}\n                        className='disabled:opacity-50 p-2'\n                    ><BiChevronDown /></button>\n                    <button\n                        disabled={isFirst}\n                        onClick={() => moveExercise(-1)}\n                        className='disabled:opacity-50 p-2'\n                    ><BiChevronUp /></button>\n                </div>\n            )}\n            <Block isActive={isActive}>\n                <List>\n                    <TitleH3 className='exercise-name'>\n                        <BiDumbbell className='inline text-xl mb-1'/> {name}\n                    </TitleH3>\n                    {sets.length ? sets.map((set) =>\n                        <SetDisplay\n                            key={set.id}\n                            id={set.id}\n                            exerciseId={id}\n                            defaultDurationTime={set.defaultDurationTime}\n                            defaultWeight={set.defaultWeight}\n                            defaultRestTime={set.defaultRestTime}\n                            defaultReps={set.defaultReps}\n                            onClick={() => onActivateSet(set.id)}\n                            onActivateSet={onActivateSet}\n                            isActive={set.id === activeSetId}\n                            isReadOnly={isReadOnly}\n                            stage={set.stage}\n                            dispatch={dispatch}\n                        ></SetDisplay>\n                    ) : (\n                        <EmptyMessage>{t('no_sets')}</EmptyMessage>\n                    )}\n                    {\n                        isComplete && sets.length > 0 &&\n                        <RPEScale\n                            defaultRPE={defaultRPE}\n                            isReadOnly={isReadOnly}\n                        />\n                    }\n                </List>\n            </Block>\n            {isWorkoutComplete || isReadOnly || (\n                <BlockActions>\n                    {\n                        isActive && activeSetId !== null &&\n                        <LightButton onClick={onRemoveSet}>\n                            {t('remove_set')}\n                        </LightButton>\n                    }\n                    <LightButton onClick={onAddSet}>{t('add_set')}</LightButton>\n                </BlockActions>\n            )}\n        </div>\n    );\n}","export default function genHash() {\n    return crypto.getRandomValues(new Uint32Array(1))[0].toString(16);\n}","import { cloneDeep } from 'lodash';\nimport genHash from './genHash';\nimport hasIncompleteSets from './hasIncompleteSets';\n\nfunction getNextStageFor(stage) {\n    const stages = ['IDLE', 'ACTIVE', 'RESTING', 'COMPLETE'];\n    const index = stages.findIndex(s => s === stage);\n\n    return stages[(index + 1) % stages.length];\n}\n\nfunction addNewSet(workout, payload) {\n    const { exerciseId } = payload;\n\n    const exercise = workout.exercises.find(\n        ex => ex.id === exerciseId\n    );\n    const hash = genHash();\n    exercise.sets = [\n        ...exercise.sets,\n        { id: hash, stage: 'IDLE' }\n    ];\n    workout.activeSetId = hash;\n    return workout;\n}\n\nfunction removeSet(workout, payload) {\n    const { exerciseId } = payload;\n\n    const exercise = workout.exercises.find(\n        ex => ex.id === exerciseId\n    );\n    const setIndex = exercise.sets.findIndex(s => s.id === workout.activeSetId);\n    if (setIndex !== -1) {\n        exercise.sets.splice(setIndex, 1);\n        workout.activeSetId = null;\n    }\n    return workout;\n}\n\nfunction updateActiveSet(workout, payload) {\n    const { setId, exerciseId } = payload;\n\n    workout.activeSetId = setId;\n    workout.activeExerciseId = exerciseId;\n\n    return workout;\n}\n\nfunction updateSetStage(workout, stage) {\n    const exercise = workout.exercises.find(\n        ex => ex.id === workout.activeExerciseId\n    );\n    const setIndex = exercise.sets.findIndex(\n        s => s.id === workout.activeSetId\n    );\n    if (setIndex === -1) {\n        return workout;\n    }\n\n    const currentStage = exercise.sets[setIndex].stage;\n    const nextStage = stage || getNextStageFor(\n        currentStage\n    );\n\n    if (nextStage === 'COMPLETE' && !stage) {\n        const nextIndex = (setIndex + 1) % exercise.sets.length;\n        workout.activeSetId = nextIndex > 0 ?\n            exercise.sets[\n                (setIndex + 1) % exercise.sets.length\n            ].id :\n            null;\n    }\n\n    exercise.sets[setIndex].stage = nextStage;\n\n    if (!hasIncompleteSets(exercise)) {\n        workout.activeSetId = null;\n    }\n\n    return workout;\n}\n\nfunction updateActiveExercise(workout) {\n    const activeExerciseIdx = workout.exercises.findIndex(\n        ex => ex.id === workout.activeExerciseId\n    );\n    const nextExerciseIdx = (activeExerciseIdx + 1) % workout.exercises.length;\n    const nextExercise = workout.exercises[nextExerciseIdx];\n    workout.activeExerciseId = nextExercise.id;\n    workout.activeSetId = nextExercise.sets[0]?.id || null;\n\n    return workout;\n}\n\nfunction addNewExercise(workout, payload) {\n    const { name } = payload;\n    workout.exercises.push({\n        id: genHash(),\n        name,\n        sets: []\n    });\n    return workout;\n}\n\nfunction completeWorkout(workout) {\n    workout.isComplete = true;\n    return workout;\n}\n\nfunction moveExercise(workout, payload) {\n    const { exerciseId, factor } = payload;\n\n    const exerciseIndex = workout.exercises.findIndex(e => e.id === exerciseId);\n\n    if (exerciseIndex === -1) {\n        return workout;\n    }\n\n    const newIndex = Math.min(\n        Math.max(0, exerciseIndex + factor), workout.exercises.length - 1\n    );\n\n    const exerciseA = workout.exercises[exerciseIndex];\n    const exerciseB = workout.exercises[newIndex];\n\n    workout.exercises[exerciseIndex] = exerciseB;\n    workout.exercises[newIndex] = exerciseA;\n\n    return workout;\n}\n\nexport default function reducer(state, action) {\n    const workout = cloneDeep(state);\n\n    switch(action.type) {\n        case 'ADD_SET':\n            return addNewSet(workout, action.payload);\n        case 'REMOVE_SET':\n            return removeSet(workout, action.payload);\n        case 'UPDATE_ACTIVE_SET':\n            return updateActiveSet(workout, action.payload);\n        case 'UPDATE_SET_STAGE':\n            return updateSetStage(workout);\n        case 'COMPLETE_EXERCISE':\n            return updateActiveExercise(workout);\n        case 'ADD_EXERCISE':\n            return addNewExercise(workout, action.payload);\n        case 'COMPLETE_WORKOUT':\n            return completeWorkout(workout);\n        case 'MOVE_EXERCISE':\n            return moveExercise(workout, action.payload);\n        default:\n            throw new Error();\n    }\n}","import { useReducer } from 'react';\n\nimport Actions from './Actions';\nimport AddExercise from './AddExercise';\nimport Exercise from './Exercise';\n\nimport hasIncompleteSets from '../util/hasIncompleteSets';\nimport reducer from '../util/reducer';\nimport useTranslation from '../hooks/useTranslation';\nimport { Link } from 'react-router-dom';\n\nexport default function Workout(props) {\n    const { t } = useTranslation();\n    const { baseWorkout, readOnly = false } = props;\n\n    const [state, dispatch] = useReducer(reducer, baseWorkout);\n\n    return (\n        <div>\n            <header className='flex items-center'>\n                <h2 className='workout-name text-2xl text-indigo-800 font-semibold px-3 pt-4'>\n                    {state.name}\n                </h2>\n                <Link className='text-blue-500 ml-auto px-3 pt-4' to='/'>{t('close')}</Link>\n            </header>\n            <main>\n                {\n                    state.exercises.length > 0 ? (\n                        <ul className='flex flex-col space-y-4 p-3'>\n                            {\n                                state.exercises.map((exercise, i) =>\n                                <li key={exercise.id}>\n                                    <Exercise\n                                        id={exercise.id}\n                                        isFirst={i === 0}\n                                        isWorkoutComplete={state.isComplete}\n                                        isLast={i === state.exercises.length - 1}\n                                        isActive={exercise.id === state.activeExerciseId && !readOnly}\n                                        isComplete={!hasIncompleteSets(exercise)}\n                                        isReadOnly={readOnly}\n                                        name={exercise.name}\n                                        sets={exercise.sets}\n                                        defaultRPE={exercise.rpe}\n                                        activeSetId={state.activeSetId}\n                                        dispatch={dispatch}\n                                    />\n                                </li>)\n                            }\n                        </ul>\n                    ) : (\n                        <p className='px-3 my-2 text-indigo-500'>{t('no_exercise')}</p>\n                    )\n                }\n                {state.isComplete || readOnly || <AddExercise dispatch={dispatch} />}\n            </main>\n            <Actions\n                isReadOnly={readOnly}\n                state={state}\n                dispatch={dispatch}\n            />\n        </div>\n    );\n}","import { format } from 'date-fns';\nimport pt from 'date-fns/locale/pt-BR';\nimport en from 'date-fns/locale/en-US';\n\nconst locales = { pt, en };\n\nimport { useState } from 'react';\nimport useTranslation from '../hooks/useTranslation';\nimport { BiDumbbell, BiTrash } from 'react-icons/bi';\nimport { Link } from 'react-router-dom';\nimport { eraseLogEntry, workoutHistoryList } from '../util/workoutPersistence';\n\nexport default function WorkoutHistory() {\n    const [workoutsList, setWorkoutsList] = useState(workoutHistoryList());\n\n    const { t, language } = useTranslation();\n\n    const onClickRemove = (logKey) => {\n        eraseLogEntry(logKey);\n        setWorkoutsList(workoutsList.filter(w => w.persistenceKey !== logKey));\n    };\n\n    if (!workoutsList.length) {\n        return null;\n    }\n\n    const locale = locales[language];\n    const formatOptions = {};\n    if (locale) {\n        formatOptions.locale = locale;\n    }\n\n    return <div>\n        <h2 className='workout-name text-2xl text-blue-800 font-semibold px-3 pt-4'>\n            {t('history')}\n        </h2>\n        <ul className='flex flex-col space-y-4 p-3'>{\n            workoutsList.map((workout) => \n                <div key={workout.id} className='p-2 border border-blue-200 relative flex flex-wrap bg-blue-50 rounded-xl'>\n                    <button\n                        onClick={() => onClickRemove(workout.persistenceKey)}\n                        className='absolute top-2 right-2 text-blue-400'><BiTrash /></button>\n                    <h2 className='text-blue-700 w-full text-md'><BiDumbbell className='-mt-1 inline text-lg' /> {workout.name}</h2>\n                    <p className='text-blue-600 text-sm'>{format(new Date(workout.date), 'PP', formatOptions)}</p>\n                    <Link\n                        className='bg-blue-600 text-white block px-2 py-1 rounded shadow focus:ring-2 focus:ring-blue-300 ml-auto mt-2 text-xs uppercase tracking-wider'\n                        to={{\n                            pathname: '/viewWorkout',\n                            search: `?id=${workout.id}`\n                        }}\n                    >{t('view')}</Link>\n                </div>\n            )\n        }</ul>\n    </div>;\n}","import { useState } from 'react';\nimport useTranslation from '../hooks/useTranslation';\nimport { SingleInputForm } from '../ui';\n\nexport default function AddWorkout(props) {\n    const { t } = useTranslation();\n\n    const [ name, setName ] = useState('');\n\n    const { onAddWorkout = () => {} } = props;\n\n    const onSubmit = (ev) => {\n        ev.preventDefault();\n        onAddWorkout(name);\n        setName('');\n    };\n\n    return <SingleInputForm\n        onSubmit={onSubmit}\n        onChange={ev => setName(ev.target.value)}\n        placeholder={t('workout_name')}\n        label={t('add_workout')}\n        value={name}\n    />;\n}","import { formatDistance } from 'date-fns';\nimport useTranslation from '../hooks/useTranslation';\nimport { BiDumbbell, BiTrash } from 'react-icons/bi';\nimport { Link } from 'react-router-dom';\nimport { getLastRunDate } from '../util/workoutPersistence';\n\nimport pt from 'date-fns/locale/pt-BR';\nimport en from 'date-fns/locale/en-US';\n\nconst locales = { pt, en };\n\nexport default function WorkoutDisplay(props) {\n    const { name, onRemoveWorkout, id } = props;\n\n    const { t, language } = useTranslation();\n\n    const lastRun = getLastRunDate(id);\n\n    const locale = locales[language];\n    const formatOptions = {};\n    if (locale) {\n        formatOptions.locale = locale;\n    }\n\n    return (\n        <div className='p-2 border border-indigo-200 relative flex flex-wrap bg-indigo-50 rounded-xl'>\n            <button onClick={() => onRemoveWorkout(id)} className='absolute top-2 right-2 text-indigo-400'><BiTrash /></button>\n            <h2 className='text-indigo-700 w-full text-md'><BiDumbbell className='-mt-1 inline text-lg' /> {name}</h2>\n            {lastRun && (\n                <p className='text-indigo-600 text-sm'>\n                    {t('last_run')}: {formatDistance(lastRun, new Date(), formatOptions)}\n                </p>\n            )}\n            <Link\n                to={{ pathname: '/newWorkout', search: `?id=${id}` }}\n                className='bg-indigo-600 text-white block px-2 py-1 rounded shadow focus:ring-2 focus:ring-indigo-300 ml-auto mt-2 text-xs uppercase tracking-wider'>\n                    {t('start')}\n                </Link>\n        </div>\n    );\n}","import { useState } from 'react';\nimport useTranslation from '../hooks/useTranslation';\nimport AddWorkout from './AddWorkout';\nimport WorkoutDisplay from './WorkoutDisplay';\n\nimport genHash from '../util/genHash';\nimport {\n    addWorkoutToList,\n    getWorkoutList,\n    removeWorkoutFromList\n} from '../util/workoutPersistence';\n\nexport default function WorkoutList() {\n    const { t } = useTranslation();\n    const [workouts, setWorkouts] = useState(getWorkoutList());\n\n    const onAddWorkout = (name) => {\n        const workout = {\n            id: genHash(), name, exercises: []\n        };\n        addWorkoutToList(workout);\n        setWorkouts(workouts.concat([workout]));\n    };\n\n    const onRemoveWorkout = (id) => {\n        const willRemove = window.confirm(t('confirm_delete'));\n        if (willRemove) {\n            removeWorkoutFromList(id);\n            setWorkouts(workouts.filter(w => w.id !== id));\n\n            // Lazy solution to refresh history list\n            window.location.reload();\n        }\n    };\n\n    return (\n        <div>\n            <h2 className='workout-name text-2xl text-indigo-800 font-semibold px-3 pt-4'>\n                {t('workouts_list')}\n            </h2>\n            {\n                workouts.length > 0 ? (\n                    <ul className='flex flex-col space-y-4 p-3'>\n                        {\n                            workouts.map((workout) =>\n                                <WorkoutDisplay\n                                    key={workout.id}\n                                    id={workout.id}\n                                    name={workout.name}\n                                    onRemoveWorkout={onRemoveWorkout}\n                                />)\n                        }\n                    </ul>\n                ) : (\n                    <p className='px-3 my-2 text-indigo-500'>{t('no_workout')}</p>\n                )\n            }\n            <AddWorkout onAddWorkout={onAddWorkout} />\n        </div>\n    );\n}\n","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport Workout from './components/Workout';\nimport WorkoutHistory from './components/WorkoutHistory';\nimport WorkoutList from './components/WorkoutList';\n\nimport { loadWorkoutById } from './util/workoutPersistence';\n\nimport { Container } from './ui';\n\nfunction App() {\n    const renderWorkout = (routeProps) => {\n        const id = new URLSearchParams(routeProps.location.search).get('id');\n\n        const createNew = routeProps.match.path === '/newWorkout';\n        const workout = loadWorkoutById(id, createNew);\n\n        return <Workout baseWorkout={workout} readOnly={!createNew} />;\n    };\n    return (\n        <Container>\n            <Router basename={process.env.PUBLIC_URL}>\n                <Switch>\n                    <Route exact path='/'>\n                        <WorkoutList />\n                        <WorkoutHistory />\n                    </Route>\n                    <Route path='/viewWorkout' render={renderWorkout} />\n                    <Route path='/newWorkout' render={renderWorkout} />\n                </Switch>\n            </Router>\n        </Container>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}